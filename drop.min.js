/*! drop.js 0.3.2 */
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m={}.hasOwnProperty,n=function(a,b){function c(){this.constructor=a}for(var d in b)m.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},o=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};l=Tether.Utils,g=l.extend,c=l.addClass,i=l.removeClass,h=l.hasClass,a=l.Evented,k="ontouchstart"in document.documentElement,e=k?"touchstart":"click",j=function(a){var b,c,d,e;return d=a.split(" "),b=d[0],c=d[1],("left"===b||"right"===b)&&(e=[c,b],b=e[0],c=e[1]),[b,c].join(" ")},b={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle",center:"center"},d={},f=function(k){var l,m,p,q;return null==k&&(k={}),p=function(){return function(a,b,c){c.prototype=a.prototype;var d=new c,e=a.apply(d,b);return Object(e)===e?e:d}(l,arguments,function(){})},g(p,{createContext:f,drops:[],defaults:{}}),m={classPrefix:"drop",defaults:{attach:"bottom left",openOn:"click",constrainToScrollParent:!0,constrainToWindow:!0,classes:"",tetherOptions:{}}},g(p,m,k),g(p.defaults,m.defaults,k.defaults),null==d[q=p.classPrefix]&&(d[q]=[]),p.updateBodyClasses=function(){var a,b,e,f,g;for(a=!1,g=d[p.classPrefix],e=0,f=g.length;f>e;e++)if(b=g[e],b.isOpened()){a=!0;break}return a?c(document.body,""+p.classPrefix+"-open"):i(document.body,""+p.classPrefix+"-open")},l=function(a){function f(a){if(this.options=a,this.options=g({},p.defaults,this.options),this.target=this.options.target,null==this.target)throw new Error("Drop Error: You must provide a target.");p.drops.push(this),d[p.classPrefix].push(this),this.setupElements(),this.setupEvents(),this.setupTether()}return n(f,a),f.prototype.setupElements=function(){return this.drop=document.createElement("div"),c(this.drop,p.classPrefix),this.options.classes&&c(this.drop,this.options.classes),this.dropContent=document.createElement("div"),c(this.dropContent,""+p.classPrefix+"-content"),"object"==typeof this.options.content?this.dropContent.appendChild(this.options.content):this.dropContent.innerHTML=this.options.content,this.drop.appendChild(this.dropContent)},f.prototype.setupTether=function(){var a,c;return c=this.options.position.split(" "),c[0]=b[c[0]],c=c.join(" "),a=[],this.options.constrainToScrollParent&&a.push({to:"scrollParent",pin:"top, bottom",attachment:"together none"}),this.options.constrainToWindow!==!1&&a.push({to:"window",pin:!0,attachment:"together"}),a.push({to:"scrollParent"}),k={element:this.drop,target:this.target,attachment:j(c),targetAttachment:j(this.options.position),classPrefix:p.classPrefix,offset:"0 0",targetOffset:"0 0",enabled:!1,constraints:a},console.log(this.options.position,"a",k.attachment,"t",k.targetAttachment),this.options.tether!==!1?this.tether=new Tether(g({},k,this.options.tether)):void 0},f.prototype.setupEvents=function(){var a,b=this;if(this.options.openOn)return a=this.options.openOn.split(" "),o.call(a,"click")>=0&&(this.target.addEventListener(e,function(){return b.toggle()}),document.addEventListener(e,function(a){return!b.isOpened()||a.target===b.drop||b.drop.contains(a.target)||a.target===b.target||b.target.contains(a.target)?void 0:b.close()})),o.call(a,"hover")>=0?(this.target.addEventListener("mouseover",function(){return b.open()}),this.target.addEventListener("mouseout",function(){return b.close()})):void 0},f.prototype.isOpened=function(){return h(this.drop,""+p.classPrefix+"-open")},f.prototype.toggle=function(){return this.isOpened()?this.close():this.open()},f.prototype.open=function(){var a;return this.drop.parentNode||document.body.appendChild(this.drop),c(this.target,""+p.classPrefix+"-open"),c(this.drop,""+p.classPrefix+"-open"),null!=(a=this.tether)&&a.enable(),this.trigger("open"),p.updateBodyClasses()},f.prototype.close=function(){var a;return i(this.target,""+p.classPrefix+"-open"),i(this.drop,""+p.classPrefix+"-open"),this.trigger("close"),null!=(a=this.tether)&&a.disable(),p.updateBodyClasses()},f}(a),p},window.Drop=f(),document.addEventListener("DOMContentLoaded",function(){return Drop.updateBodyClasses()})}).call(this);